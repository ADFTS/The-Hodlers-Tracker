<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Hodler's Tracker</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #f7931a;
            --primary-dark: #e07c0c;
            --secondary: #121212;
            --tertiary: #1a1a1a;
            --text-primary: #ffffff;
            --text-secondary: #aaaaaa;
            --up: #26a69a;
            --down: #ef5350;
            --neutral: #5d5d5d;
            --xmr-color: #ff6600;
            --pepe-color: #00a13d;
            --eur-color: #2e5bff;
            --card-bg: rgba(30, 30, 30, 0.7);
            --border-radius: 16px;
            --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            --shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            --glow: 0 0 20px rgba(247, 147, 26, 0.15);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
            background: linear-gradient(135deg, var(--secondary) 0%, #1a1a1a 50%, #0d0d0d 100%);
            color: var(--text-primary);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            overflow-x: hidden;
            position: relative;
            padding: 10px;
        }
        
        body::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 30%, rgba(247, 147, 26, 0.05) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(26, 166, 154, 0.03) 0%, transparent 50%);
            z-index: -1;
        }
        
        .header {
            text-align: center;
            padding: 1rem 1rem 0.5rem;
            position: relative;
        }
        
        .logo-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 0.5rem;
        }
        
        .logo {
            font-size: 2rem;
            color: var(--primary);
            filter: drop-shadow(0 0 5px rgba(247, 147, 26, 0.5));
        }
        
        .title {
            font-size: 2.2rem;
            font-weight: 700;
            background: linear-gradient(to right, #f7931a, #ffcc80);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            letter-spacing: 1px;
        }
        
        .subtitle {
            color: var(--text-secondary);
            font-size: 0.9rem;
            font-weight: 300;
        }
        
        .dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 1.5rem;
            padding: 1rem;
            max-width: 1800px;
            margin: 0 auto;
            width: 100%;
            flex: 1;
        }
        
        .price-section {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }
        
        .currency-group {
            background: var(--card-bg);
            backdrop-filter: blur(10px);
            border-radius: var(--border-radius);
            padding: 1.5rem;
            box-shadow: var(--shadow);
            border: 1px solid rgba(255, 255, 255, 0.05);
            transition: var(--transition);
        }
        
        .currency-group:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow), 0 0 15px rgba(247, 147, 26, 0.1);
        }
        
        .currency-group.bitcoin {
            border-top: 4px solid var(--primary);
        }
        
        .currency-group.monero {
            border-top: 4px solid var(--xmr-color);
        }
        
        .currency-group.pepe {
            border-top: 4px solid var(--pepe-color);
        }
        
        .currency-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 1.5rem;
            padding-bottom: 0.8rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .coin-info {
            display: flex;
            align-items: center;
            gap: 0.8rem;
        }
        
        .coin-icon {
            font-size: 1.8rem;
        }
        
        .coin-icon.bitcoin {
            color: var(--primary);
        }
        
        .coin-icon.monero {
            color: var(--xmr-color);
        }
        
        .coin-icon.pepe {
            color: var(--pepe-color);
        }
        
        .coin-name {
            font-size: 1.5rem;
            font-weight: 700;
        }
        
        .coin-symbol {
            font-size: 1rem;
            color: var(--text-secondary);
            background: rgba(255, 255, 255, 0.05);
            padding: 0.2rem 0.7rem;
            border-radius: 20px;
        }
        
        .price-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 1.2rem;
        }
        
        .price-item {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 12px;
            padding: 1rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            transition: var(--transition);
        }
        
        .price-item:hover {
            background: rgba(0, 0, 0, 0.3);
            transform: translateY(-2px);
        }
        
        .currency-label {
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.3rem;
        }
        
        .price-value {
            font-size: 1.8rem;
            font-weight: 800;
            font-family: 'SF Mono', 'Roboto Mono', monospace;
            margin-bottom: 0.5rem;
            transition: color 0.5s ease;
        }
        
        .price-value.up {
            color: var(--up);
        }
        
        .price-value.down {
            color: var(--down);
        }
        
        .price-value.neutral {
            color: var(--neutral);
        }
        
        .price-change {
            display: flex;
            align-items: center;
            gap: 0.4rem;
            font-size: 0.9rem;
            padding: 0.3rem 0.7rem;
            border-radius: 20px;
            background: rgba(255, 255, 255, 0.05);
        }
        
        .change-icon {
            font-size: 0.8rem;
        }
        
        .right-panel {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }
        
        .live-clock-container {
            background: var(--card-bg);
            backdrop-filter: blur(10px);
            border-radius: var(--border-radius);
            padding: 1.5rem;
            box-shadow: var(--shadow);
            border: 1px solid rgba(255, 255, 255, 0.05);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
            border-top: 4px solid #4a6fa5;
        }
        
        .clock-title {
            font-size: 1.2rem;
            color: var(--text-secondary);
            margin-bottom: 1.2rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .analog-clock {
            width: 130px;
            height: 130px;
            border: 6px solid rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            position: relative;
            margin-bottom: 1.2rem;
            background: rgba(0, 0, 0, 0.2);
            box-shadow: inset 0 0 15px rgba(0, 0, 0, 0.5);
        }
        
        .clock-center {
            position: absolute;
            width: 12px;
            height: 12px;
            background: #3a86ff;
            border-radius: 50%;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 10;
        }
        
        .hour-hand, .minute-hand, .second-hand {
            position: absolute;
            transform-origin: bottom center;
            border-radius: 4px;
            left: 50%;
            bottom: 50%;
        }
        
        .hour-hand {
            width: 5px;
            height: 35px;
            background: var(--text-primary);
            margin-left: -2.5px;
        }
        
        .minute-hand {
            width: 3px;
            height: 48px;
            background: var(--text-primary);
            margin-left: -1.5px;
        }
        
        .second-hand {
            width: 2px;
            height: 55px;
            background: #ff4757;
            margin-left: -1px;
        }
        
        .digital-clock {
            font-size: 1.8rem;
            font-weight: 700;
            font-family: 'SF Mono', 'Roboto Mono', monospace;
            color: var(--text-primary);
            margin-bottom: 0.3rem;
            text-shadow: 0 0 8px rgba(58, 134, 255, 0.3);
        }
        
        .date-display {
            font-size: 0.95rem;
            color: var(--text-secondary);
            text-align: center;
        }
        
        .stats-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.2rem;
        }
		
		/* Bitcoin Fees Card als Vollbreite */
       #bitcoin-fees-card {
       grid-column: 1 / -1; /* Nimmt die gesamte Breite */
       margin-top: 0.5rem;
         }

       /* Drei obere Karten nebeneinander auf Desktop */
       @media (min-width: 768px) {
       .stats-container {
        grid-template-columns: repeat(3, 1fr);
        grid-template-rows: auto auto;
       }
    
       #bitcoin-fees-card {
        grid-column: 1 / -1;
        grid-row: 2;
       }
       }
        
        .stat-card {
            background: var(--card-bg);
            backdrop-filter: blur(10px);
            border-radius: var(--border-radius);
            padding: 1.2rem;
            box-shadow: var(--shadow);
            border: 1px solid rgba(255, 255, 255, 0.05);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }
        
        .stat-card:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow), 0 0 10px rgba(247, 147, 26, 0.1);
        }
        
        .stat-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 0.8rem;
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: var(--text-secondary);
            font-weight: 500;
        }
        
        .stat-icon {
            font-size: 1.1rem;
            color: var(--primary);
            background: rgba(247, 147, 26, 0.1);
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
        }
        
        .stat-value {
            font-size: 1.5rem;
            font-weight: 700;
            font-family: 'SF Mono', 'Roboto Mono', monospace;
            margin-bottom: 0.3rem;
        }
        
        .stat-details {
            font-size: 0.8rem;
            color: var(--text-secondary);
            margin-top: 0.3rem;
        }
        
        /* Fear & Greed Index Styles */
        .fear-greed-indicator {
            width: 100%;
            height: 8px;
            background: linear-gradient(to right, #ef5350, #ffaa00, #26a69a);
            border-radius: 4px;
            margin: 0.8rem 0;
            position: relative;
            overflow: hidden;
        }
        
        .fear-greed-slider {
            position: absolute;
            top: -3px;
            width: 16px;
            height: 16px;
            background: white;
            border-radius: 50%;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.5);
            transform: translateX(-50%);
            transition: left 0.5s ease;
            z-index: 2;
        }
        
        .fear-greed-labels {
            display: flex;
            justify-content: space-between;
            font-size: 0.7rem;
            color: var(--text-secondary);
            margin-top: 0.3rem;
        }
        
        .fear-greed-label {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .fear-greed-score {
            font-size: 2rem;
            font-weight: 800;
            margin-bottom: 0.5rem;
            font-family: 'SF Mono', 'Roboto Mono', monospace;
        }
        
        .fear-greed-text {
            font-size: 1rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 0.5rem;
        }
        
        .fear-greed-description {
            font-size: 0.8rem;
            color: var(--text-secondary);
            text-align: center;
            line-height: 1.3;
            margin-top: 0.5rem;
        }
        
        .fear-greed-update {
            font-size: 0.7rem;
            color: var(--text-secondary);
            display: flex;
            align-items: center;
            gap: 0.3rem;
            justify-content: center;
            margin-top: 0.5rem;
        }
        
        /* Farben für Fear & Greed Levels */
        .fear-color { color: #ef5350; }
        .fear-bg { background: rgba(239, 83, 80, 0.1); }
        
        .extreme-fear-color { color: #d32f2f; }
        .extreme-fear-bg { background: rgba(211, 47, 47, 0.1); }
        
        .greed-color { color: #26a69a; }
        .greed-bg { background: rgba(38, 166, 154, 0.1); }
        
        .extreme-greed-color { color: #00796b; }
        .extreme-greed-bg { background: rgba(0, 121, 107, 0.1); }
        
        .neutral-color { color: #ffaa00; }
        .neutral-bg { background: rgba(255, 170, 0, 0.1); }
        
        /* Bitcoin Fees Styles */
        .fees-container {
            display: flex;
			flex-direction: column;
            grid-template-columns: repeat(3, 1fr);
            gap: 0.8rem;
            margin-top: 1rem;
        }
        
        .fee-item {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 8px;
            padding: 0.8rem;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .fee-label {
            font-size: 0.7rem;
            color: var(--text-secondary);
            margin-bottom: 0.3rem;
            text-align: center;
        }
        
        .fee-value {
            font-size: 1rem;
            font-weight: 700;
            font-family: 'SF Mono', 'Roboto Mono', monospace;
            color: var(--primary);
			display: inline-block;
            margin-right: 0.2rem;
        }
        
        .fee-unit {
            font-size: 0.6rem;
            color: var(--text-secondary);
            display: inline-block;
        }
        
        .error {
            color: var(--down);
            font-size: 0.75rem;
            margin-top: 0.3rem;
        }
        
        .update-info {
            color: var(--text-secondary);
            font-size: 0.75rem;
            display: flex;
            align-items: center;
            gap: 0.3rem;
            margin-top: 0.6rem;
        }
        
        .countdown-container {
            position: fixed;
            top: 15px;
            right: 15px;
            background: var(--card-bg);
            backdrop-filter: blur(10px);
            border-radius: 50px;
            padding: 0.6rem 1.2rem;
            display: flex;
            align-items: center;
            gap: 0.6rem;
            box-shadow: var(--shadow);
            border: 1px solid rgba(255, 255, 255, 0.05);
            z-index: 100;
        }
        
        .countdown-icon {
            color: var(--primary);
            font-size: 0.9rem;
        }
        
        .countdown-text {
            font-size: 0.8rem;
            color: var(--text-secondary);
        }
        
        .countdown-value {
            font-weight: 700;
            color: var(--text-primary);
            font-family: 'SF Mono', 'Roboto Mono', monospace;
        }
        
        .refresh-btn {
            position: fixed;
            bottom: 15px;
            left: 15px;
            background: var(--primary);
            color: white;
            border: none;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.1rem;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(247, 147, 26, 0.3);
            transition: var(--transition);
            z-index: 100;
        }
        
        .refresh-btn:hover {
            background: var(--primary-dark);
            transform: rotate(30deg);
            box-shadow: 0 6px 16px rgba(247, 147, 26, 0.4);
        }
        
        .status-bar {
            position: fixed;
            bottom: 15px;
            right: 15px;
            background: rgba(0, 0, 0, 0.5);
            padding: 0.5rem 1rem;
            border-radius: 50px;
            font-size: 0.75rem;
            color: var(--text-secondary);
            display: flex;
            align-items: center;
            gap: 0.5rem;
            z-index: 100;
        }
        
        .status-indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #26a69a;
        }
        
        .status-indicator.warning {
            background: #ffaa00;
        }
        
        .status-indicator.error {
            background: #ef5350;
        }
        
        @media (max-width: 1200px) {
            .dashboard {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 768px) {
            .title {
                font-size: 1.8rem;
            }
            
            .price-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .price-value {
                font-size: 1.5rem;
            }
            
            .countdown-container {
                top: 10px;
                right: 10px;
                padding: 0.5rem 1rem;
            }
            
            .refresh-btn, .status-bar {
                position: static;
                margin-top: 1rem;
                align-self: center;
                order: 10;
            }
            
            .header {
                padding-top: 3rem;
            }
            
            .analog-clock {
                width: 110px;
                height: 110px;
            }
            
            .digital-clock {
                font-size: 1.5rem;
            }
            
            .fees-container {
                grid-template-columns: repeat(3, 1fr);
                gap: 0.5rem;
            }
            
            .fee-value {
                font-size: 0.9rem;
            }
        }
        
        @media (max-width: 480px) {
            .title {
                font-size: 1.6rem;
            }
            
            .price-grid {
                grid-template-columns: 1fr;
            }
            
            .price-value {
                font-size: 1.4rem;
            }
            
            .coin-name {
                font-size: 1.3rem;
            }
            
            .dashboard {
                padding: 0.5rem;
                gap: 1rem;
            }
            
            .currency-group {
                padding: 1.2rem;
            }
            
            .fees-container {
                grid-template-columns: repeat(3, 1fr);
                gap: 0.4rem;
                padding: 0.5rem;
            }
            
            .fee-value {
                font-size: 0.8rem;
            }
            
            .fee-label {
                font-size: 0.6rem;
            }
        }
        
        .pulse {
            animation: pulse 1s infinite;
        }
        
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.7; }
            100% { opacity: 1; }
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .price-up-animation {
            animation: priceUp 0.3s ease-out;
        }
        
        @keyframes priceUp {
            0% { transform: scale(1); }
            50% { transform: scale(1.03); }
            100% { transform: scale(1); }
        }
        
        .price-down-animation {
            animation: priceDown 0.3s ease-out;
        }
        
        @keyframes priceDown {
            0% { transform: scale(1); }
            50% { transform: scale(0.97); }
            100% { transform: scale(1); }
        }
        
        .small-price {
            font-size: 1.4rem !important;
        }
        
        .micro-price {
            font-size: 1.2rem !important;
        }
        
        .price-info {
            font-size: 0.75rem;
            color: var(--text-secondary);
            margin-top: 0.2rem;
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="logo-container">
            <i class="fas fa-coins logo"></i>
            <h1 class="title">The Hodler's Tracker</h1>
        </div>
        <p class="subtitle">Live Price Tracker in USD & EUR | Bitcoin, Monero, Pepecoin</p>
    </div>
    
    <div class="countdown-container">
        <i class="fas fa-sync-alt countdown-icon"></i>
        <span class="countdown-text">Update in:</span>
        <span class="countdown-value" id="countdown">10</span>
        <span class="countdown-text">s</span>
    </div>
    
    <div class="dashboard">
        <div class="price-section">
            <!-- Bitcoin -->
            <div class="currency-group bitcoin fade-in">
                <div class="currency-header">
                    <div class="coin-info">
                        <i class="fab fa-bitcoin coin-icon bitcoin"></i>
                        <div>
                            <div class="coin-name">Bitcoin</div>
                            <div class="coin-symbol">BTC</div>
                        </div>
                    </div>
                    <div class="price-change" id="btc-overall-change">
                        <i class="fas fa-minus change-icon"></i>
                        <span>0.00% (24h)</span>
                    </div>
                </div>
                
                <div class="price-grid">
                    <div class="price-item">
                        <div class="currency-label">USD <i class="fas fa-dollar-sign"></i></div>
                        <div id="btc-usd-price" class="price-value neutral">$--.--</div>
                        <div id="btc-usd-change" class="price-change">
                            <i class="fas fa-minus change-icon"></i>
                            <span>0.00%</span>
                        </div>
                    </div>
                    
                    <div class="price-item">
                        <div class="currency-label">EUR <i class="fas fa-euro-sign"></i></div>
                        <div id="btc-eur-price" class="price-value neutral">€--.--</div>
                        <div id="btc-eur-change" class="price-change">
                            <i class="fas fa-minus change-icon"></i>
                            <span>0.00%</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Monero -->
            <div class="currency-group monero fade-in">
                <div class="currency-header">
                    <div class="coin-info">
                        <i class="fas fa-user-secret coin-icon monero"></i>
                        <div>
                            <div class="coin-name">Monero</div>
                            <div class="coin-symbol">XMR</div>
                        </div>
                    </div>
                    <div class="price-change" id="xmr-overall-change">
                        <i class="fas fa-minus change-icon"></i>
                        <span>0.00% (24h)</span>
                    </div>
                </div>
                
                <div class="price-grid">
                    <div class="price-item">
                        <div class="currency-label">USD <i class="fas fa-dollar-sign"></i></div>
                        <div id="xmr-usd-price" class="price-value neutral">$--.--</div>
                        <div id="xmr-usd-change" class="price-change">
                            <i class="fas fa-minus change-icon"></i>
                            <span>0.00%</span>
                        </div>
                    </div>
                    
                    <div class="price-item">
                        <div class="currency-label">EUR <i class="fas fa-euro-sign"></i></div>
                        <div id="xmr-eur-price" class="price-value neutral">€--.--</div>
                        <div id="xmr-eur-change" class="price-change">
                            <i class="fas fa-minus change-icon"></i>
                            <span>0.00%</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Pepe -->
            <div class="currency-group pepe fade-in">
                <div class="currency-header">
                    <div class="coin-info">
                        <i class="fas fa-frog coin-icon pepe"></i>
                        <div>
                            <div class="coin-name">Pepecoin</div>
                            <div class="coin-symbol">PEP</div>
                        </div>
                    </div>
                    <div class="price-change" id="pepe-overall-change">
                        <i class="fas fa-minus change-icon"></i>
                        <span>0.00% (24h)</span>
                    </div>
                </div>
                
                <div class="price-grid">
                    <div class="price-item">
                        <div class="currency-label">USD <i class="fas fa-dollar-sign"></i></div>
                        <div id="pepe-usd-price" class="price-value neutral micro-price">$--.--</div>
                        <div id="pepe-usd-change" class="price-change">
                            <i class="fas fa-minus change-icon"></i>
                            <span>0.00%</span>
                        </div>
                        <div class="price-info">USD</div>
                    </div>
                    
                    <div class="price-item">
                        <div class="currency-label">EUR <i class="fas fa-euro-sign"></i></div>
                        <div id="pepe-eur-price" class="price-value neutral micro-price">€--.--</div>
                        <div id="pepe-eur-change" class="price-change">
                            <i class="fas fa-minus change-icon"></i>
                            <span>0.00%</span>
                        </div>
                        <div class="price-info">EUR</div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="right-panel">
            <div class="live-clock-container fade-in">
                <div class="clock-title">
                    <i class="far fa-clock"> Whats the Time?</i>
                    <span></span>
                </div>
                <div class="analog-clock" id="analogClock">
                    <div class="clock-center"></div>
                    <div class="hour-hand" id="hourHand"></div>
                    <div class="minute-hand" id="minuteHand"></div>
                    <div class="second-hand" id="secondHand"></div>
                </div>
                <div class="digital-clock" id="digitalClock">00:00:00</div>
                <div class="date-display" id="dateDisplay">Montag, 22. Dezember 2025</div>
            </div>
            
            <div class="stats-container">
                <div class="stat-card fade-in">
                    <div class="stat-header">
                        <div class="stat-label">BTC Supply</div>
                        <div class="stat-icon">
                            <i class="fas fa-coins"></i>
                        </div>
                    </div>
                    <div class="stat-value" id="circulating-supply">--.--</div>
                    <div class="stat-details">Live BTC Supply</div>
                    <div class="update-info">
                        <i class="far fa-clock"></i>
                        <span>Update: <span id="supply-update">00:10:00</span></span>
                    </div>
                </div>
                
                <!-- Fear & Greed Index Card -->
                <div class="stat-card fade-in" id="fear-greed-card">
                    <div class="stat-header">
                        <div class="stat-label">Fear & Greed Index</div>
                        <div class="stat-icon">
                            <i class="fas fa-brain"></i>
                        </div>
                    </div>
                    <div class="fear-greed-score" id="fear-greed-score">--</div>
                    <div class="fear-greed-text" id="fear-greed-text">LOADING</div>
                    
                    <div class="fear-greed-indicator">
                        <div class="fear-greed-slider" id="fear-greed-slider"></div>
                    </div>
                    
                    <div class="fear-greed-labels">
                        <div class="fear-greed-label">
                            <span>Extreme Fear</span>
                            <span>0</span>
                        </div>
                        <div class="fear-greed-label">
                            <span>Fear</span>
                            <span>25</span>
                        </div>
                        <div class="fear-greed-label">
                            <span>Neutral</span>
                            <span>50</span>
                        </div>
                        <div class="fear-greed-label">
                            <span>Greed</span>
                            <span>75</span>
                        </div>
                        <div class="fear-greed-label">
                            <span>Extreme Greed</span>
                            <span>100</span>
                        </div>
                    </div>
                    
                    <div class="fear-greed-description" id="fear-greed-description">
                        Loading market sentiment data...
                    </div>
                    
                    <div class="fear-greed-update">
                        <i class="far fa-clock"></i>
                        <span>Updated: <span id="fear-greed-update-time">--:--</span></span>
                    </div>
                </div>
                
                <div class="stat-card fade-in">
                    <div class="stat-header">
                        <div class="stat-label">USDC/EUR Kurs</div>
                        <div class="stat-icon">
                            <i class="fas fa-exchange-alt"></i>
                        </div>
                    </div>
                    <div class="stat-value" id="usdc-eur-rate">0.0000</div>
                    <div class="stat-details">DJT what have you done?</div>
                    <div class="update-info">
                        <i class="far fa-clock"></i>
                        <span>Updates once every minute</span>
                    </div>
                </div>
                
                <!-- Bitcoin Fees Card -->
                <div class="stat-card fade-in" id="bitcoin-fees-card">
                    <div class="stat-header">
                        <div class="stat-label">Bitcoin Transaction Fees</div>
                        <div class="stat-icon">
                            <i class="fas fa-bolt"></i>
                        </div>
                    </div>
                    
                    <div class="fees-container">
                        <div class="fee-item">
                            <div class="fee-label">Economy</div>
                            <span class="fee-value" id="fee-economy">--</span>
                            <span class="fee-unit">sat/vB</span>
                        </div>
                        <div class="fee-item">
                            <div class="fee-label">Fastest</div>
                            <div class="fee-value" id="fee-fastest">--</div>
                            <div class="fee-unit">sat/vB</div>
                        </div>
                        <div class="fee-item">
                            <div class="fee-label">Hour</div>
                            <div class="fee-value" id="fee-hour">--</div>
                            <div class="fee-unit">sat/vB</div>
                        </div>
                        <div class="fee-item">
                            <div class="fee-label">Half Hour</div>
                            <div class="fee-value" id="fee-half-hour">--</div>
                            <div class="fee-unit">sat/vB</div>
                        </div>
                        <div class="fee-item">
                            <div class="fee-label">Minimum</div>
                            <div class="fee-value" id="fee-minimum">--</div>
                            <div class="fee-unit">sat/vB</div>
                        </div>
                        <div class="fee-item">
                            <div class="fee-label">Priority</div>
                            <div class="fee-value" id="fee-priority">--</div>
                            <div class="fee-unit">sat/vB</div>
                        </div>
                    </div>
                    
                    <div class="fear-greed-update">
                        <i class="far fa-clock"></i>
                        <span>Updated: <span id="fees-update-time">--:--</span></span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <button class="refresh-btn" id="refresh-btn">
        <i class="fas fa-redo"></i>
    </button>
    
    <div class="status-bar">
        <div class="status-indicator" id="status-indicator"></div>
        <span id="status-text">Verbinde...</span>
        <span id="last-updated-time">Letztes Update: --:--:--</span>
    </div>

    <script>
        // Zustandsverwaltung
        const state = {
            previousPrices: {
                btc: { usd: null, eur: null },
                xmr: { usd: null, eur: null },
                pepe: { usd: null, eur: null }
            },
            previous24hPrices: {
                btc: { usd: null, eur: null },
                xmr: { usd: null, eur: null },
                pepe: { usd: null, eur: null }
            },
            lastDirection: {
                btc: { usd: null, eur: null },
                xmr: { usd: null, eur: null },
                pepe: { usd: null, eur: null }
            },
            btcMarketCap: null,
            usdToEurRate: 0.92,
            fearGreedIndex: null,
            fearGreedLastUpdate: null,
            bitcoinFees: null,
            feesLastUpdate: null,
            lastUpdateTime: null
        };
        
        // Intervalle (in Sekunden)
        const priceUpdateInterval = 10;
        const dataUpdateInterval = 600;
        const rateUpdateInterval = 60;
        const fearGreedUpdateInterval = 600;
        const feesUpdateInterval = 120; // 2 Minuten für Fees
        
        // DOM-Elemente
        const elements = {
            // Countdown
            countdown: document.getElementById('countdown'),
            
            // Bitcoin
            btcUsdPrice: document.getElementById('btc-usd-price'),
            btcEurPrice: document.getElementById('btc-eur-price'),
            btcUsdChange: document.getElementById('btc-usd-change'),
            btcEurChange: document.getElementById('btc-eur-change'),
            btcOverallChange: document.getElementById('btc-overall-change'),
            
            // Monero
            xmrUsdPrice: document.getElementById('xmr-usd-price'),
            xmrEurPrice: document.getElementById('xmr-eur-price'),
            xmrUsdChange: document.getElementById('xmr-usd-change'),
            xmrEurChange: document.getElementById('xmr-eur-change'),
            xmrOverallChange: document.getElementById('xmr-overall-change'),
            
            // Pepe
            pepeUsdPrice: document.getElementById('pepe-usd-price'),
            pepeEurPrice: document.getElementById('pepe-eur-price'),
            pepeUsdChange: document.getElementById('pepe-usd-change'),
            pepeEurChange: document.getElementById('pepe-eur-change'),
            pepeOverallChange: document.getElementById('pepe-overall-change'),
            
            // Andere
            circulatingSupply: document.getElementById('circulating-supply'),
            usdcEurRate: document.getElementById('usdc-eur-rate'),
            supplyUpdate: document.getElementById('supply-update'),
            lastUpdatedTime: document.getElementById('last-updated-time'),
            refreshBtn: document.getElementById('refresh-btn'),
            statusIndicator: document.getElementById('status-indicator'),
            statusText: document.getElementById('status-text'),
            
            // Uhr
            hourHand: document.getElementById('hourHand'),
            minuteHand: document.getElementById('minuteHand'),
            secondHand: document.getElementById('secondHand'),
            digitalClock: document.getElementById('digitalClock'),
            dateDisplay: document.getElementById('dateDisplay'),
            
            // Fear & Greed Elements
            fearGreedScore: document.getElementById('fear-greed-score'),
            fearGreedText: document.getElementById('fear-greed-text'),
            fearGreedSlider: document.getElementById('fear-greed-slider'),
            fearGreedDescription: document.getElementById('fear-greed-description'),
            fearGreedUpdateTime: document.getElementById('fear-greed-update-time'),
            fearGreedCard: document.getElementById('fear-greed-card'),
            
            // Bitcoin Fees Elements
            feeEconomy: document.getElementById('fee-economy'),
            feeFastest: document.getElementById('fee-fastest'),
            feeHour: document.getElementById('fee-hour'),
            feeHalfHour: document.getElementById('fee-half-hour'),
            feeMinimum: document.getElementById('fee-minimum'),
            feePriority: document.getElementById('fee-priority'),
            feesUpdateTime: document.getElementById('fees-update-time')
        };
        
        // Countdown Timer
        let countdownInterval;
        let dataCountdownInterval;
        let feesCountdownInterval;
        
        // Initialisierung
        document.addEventListener('DOMContentLoaded', initialize);
        
        async function initialize() {
            // Uhr sofort starten
            updateClock();
            setInterval(updateClock, 1000);
            
            // Status initialisieren
            updateStatus('warning', 'Verbinde zu APIs...');
            
            // Alle Daten initial abrufen
            try {
                await fetchUSDCtoEUR();
                await Promise.all([
                    fetchAllPrices(),
                    updateMarketData(),
                    fetchFearAndGreedIndex(),
                    fetchBitcoinFees()
                ]);
                
                updateStatus('success', 'Alle Systeme aktiv');
            } catch (error) {
                updateStatus('error', 'Verbindungsprobleme');
            }
            
            startCountdown();
            startDataUpdateCountdown();
            startFeesCountdown();
            updateLastUpdatedTime();
            
            // Event Listener
            elements.refreshBtn.addEventListener('click', manualRefresh);
            
            // Automatische Updates einrichten
            setInterval(fetchAllPrices, priceUpdateInterval * 1000);
            setInterval(fetchUSDCtoEUR, rateUpdateInterval * 1000);
            setInterval(fetchFearAndGreedIndex, fearGreedUpdateInterval * 1000);
            setInterval(fetchBitcoinFees, feesUpdateInterval * 1000);
        }
        
        // Status-Anzeige aktualisieren
        function updateStatus(type, text) {
            elements.statusIndicator.className = 'status-indicator';
            elements.statusIndicator.classList.add(type === 'success' ? '' : type);
            elements.statusText.textContent = text;
        }
        
        // Live-Uhrzeit Funktionen
        function updateClock() {
            const now = new Date();
            
            // Digitale Uhr
            const timeString = now.toLocaleTimeString('de-DE', {
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit'
            });
            elements.digitalClock.textContent = timeString;
            
            // Datum
            const dateString = now.toLocaleDateString('de-DE', {
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
            elements.dateDisplay.textContent = dateString;
            
            // Analoge Uhr
            const hours = now.getHours() % 12;
            const minutes = now.getMinutes();
            const seconds = now.getSeconds();
            
            const hourDeg = (hours * 30) + (minutes * 0.5);
            const minuteDeg = (minutes * 6) + (seconds * 0.1);
            const secondDeg = seconds * 6;
            
            elements.hourHand.style.transform = `translateX(-50%) rotate(${hourDeg}deg)`;
            elements.minuteHand.style.transform = `translateX(-50%) rotate(${minuteDeg}deg)`;
            elements.secondHand.style.transform = `translateX(-50%) rotate(${secondDeg}deg)`;
        }
        
        // Formatierungsfunktionen
        function formatPrice(price, symbol, isSmall = false) {
            if (isNaN(price) || price === null) return symbol + '--.--';
            
            if (price < 0.0001) {
                return symbol + price.toFixed(8);
            } else if (price < 1) {
                return symbol + price.toFixed(6);
            } else if (price < 1000) {
                return symbol + price.toLocaleString('de-DE', {
                    minimumFractionDigits: 2,
                    maximumFractionDigits: 2
                });
            } else {
                return symbol + price.toLocaleString('de-DE', {
                    minimumFractionDigits: 0,
                    maximumFractionDigits: 0
                });
            }
        }
        
        function formatNumber(number) {
            if (isNaN(number)) return '--.--';
            
            if (number >= 1e9) {
                return (number / 1e9).toLocaleString('de-DE', {
                    minimumFractionDigits: 2,
                    maximumFractionDigits: 2
                }) + ' Mrd';
            } else if (number >= 1e6) {
                return (number / 1e6).toLocaleString('de-DE', {
                    minimumFractionDigits: 2,
                    maximumFractionDigits: 2
                }) + ' Mio';
            } else {
                return number.toLocaleString('de-DE', {
                    maximumFractionDigits: 0
                });
            }
        }
        
        function formatTime(seconds) {
            const mins = Math.floor(seconds / 60);
            const secs = seconds % 60;
            return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
        }
        
        // Countdown-Funktionen
        function startCountdown() {
            let seconds = priceUpdateInterval;
            elements.countdown.textContent = seconds;
            
            clearInterval(countdownInterval);
            countdownInterval = setInterval(() => {
                seconds--;
                elements.countdown.textContent = seconds;
                
                if (seconds <= 0) {
                    seconds = priceUpdateInterval;
                }
            }, 1000);
        }
        
        function startDataUpdateCountdown() {
            let seconds = dataUpdateInterval;
            updateDataCountdownDisplay(seconds);
            
            clearInterval(dataCountdownInterval);
            dataCountdownInterval = setInterval(() => {
                seconds--;
                updateDataCountdownDisplay(seconds);
                
                if (seconds <= 0) {
                    seconds = dataUpdateInterval;
                    updateMarketData();
                }
            }, 1000);
        }
        
        function startFeesCountdown() {
            let seconds = feesUpdateInterval;
            updateFeesCountdownDisplay(seconds);
            
            clearInterval(feesCountdownInterval);
            feesCountdownInterval = setInterval(() => {
                seconds--;
                updateFeesCountdownDisplay(seconds);
                
                if (seconds <= 0) {
                    seconds = feesUpdateInterval;
                    fetchBitcoinFees();
                }
            }, 1000);
        }
        
        function updateDataCountdownDisplay(seconds) {
            elements.supplyUpdate.textContent = formatTime(seconds);
        }
        
        function updateFeesCountdownDisplay(seconds) {
            // Optional: Ein Countdown für die Fees-Anzeige
            // Aktuell nur in der updateBitcoinFeesDisplay Funktion
        }
        
        function updateLastUpdatedTime() {
            if (state.lastUpdateTime) {
                const timeString = state.lastUpdateTime.toLocaleTimeString('de-DE', {
                    hour: '2-digit',
                    minute: '2-digit',
                    second: '2-digit'
                });
                elements.lastUpdatedTime.textContent = `Letztes Update: ${timeString}`;
            } else {
                elements.lastUpdatedTime.textContent = "Letztes Update: --:--:--";
            }
        }
        
        // Fear & Greed Index abrufen
        async function fetchFearAndGreedIndex() {
            try {
                const response = await fetch('https://api.alternative.me/fng/?limit=1&format=json');
                const data = await response.json();
                
                if (data && data.data && data.data.length > 0) {
                    const indexData = data.data[0];
                    const score = parseInt(indexData.value);
                    const classification = indexData.value_classification;
                    const timestamp = parseInt(indexData.timestamp) * 1000;
                    
                    updateFearAndGreedDisplay(score, classification, timestamp);
                    
                    state.fearGreedIndex = score;
                    state.fearGreedLastUpdate = new Date(timestamp);
                    
                    return score;
                } else {
                    throw new Error('Ungültiges Datenformat');
                }
            } catch (error) {
                console.error('Fear & Greed Index Fehler:', error);
                
                try {
                    const fallbackResponse = await fetch('https://api.coingecko.com/api/v3/global');
                    const fallbackData = await fallbackResponse.json();
                    
                    if (fallbackData.data && fallbackData.data.fear_and_greed_index) {
                        const score = fallbackData.data.fear_and_greed_index.score;
                        const classification = fallbackData.data.fear_and_greed_index.value;
                        
                        updateFearAndGreedDisplay(score, classification, Date.now());
                        state.fearGreedIndex = score;
                        state.fearGreedLastUpdate = new Date();
                        
                        return score;
                    }
                } catch (fallbackError) {
                    console.error('Fear & Greed Fallback Fehler:', fallbackError);
                    
                    // Simulierte Daten für Demo
                    const simulatedScore = Math.floor(Math.random() * 100);
                    const classifications = ["Extreme Fear", "Fear", "Neutral", "Greed", "Extreme Greed"];
                    let simulatedClassification;
                    
                    if (simulatedScore <= 25) simulatedClassification = "Extreme Fear";
                    else if (simulatedScore <= 45) simulatedClassification = "Fear";
                    else if (simulatedScore <= 55) simulatedClassification = "Neutral";
                    else if (simulatedScore <= 75) simulatedClassification = "Greed";
                    else simulatedClassification = "Extreme Greed";
                    
                    updateFearAndGreedDisplay(simulatedScore, simulatedClassification, Date.now());
                    
                    return simulatedScore;
                }
            }
        }
        
        // Fear & Greed Anzeige aktualisieren
        function updateFearAndGreedDisplay(score, classification, timestamp) {
            elements.fearGreedScore.textContent = score;
            elements.fearGreedText.textContent = classification.toUpperCase();
            
            const sliderPosition = Math.min(Math.max(score, 0), 100);
            elements.fearGreedSlider.style.left = `${sliderPosition}%`;
            
            let textColorClass, bgColorClass, description;
            
            switch(classification.toLowerCase()) {
                case 'extreme fear':
                    textColorClass = 'extreme-fear-color';
                    bgColorClass = 'extreme-fear-bg';
                    description = 'Extreme Fear, perfect Entry.';
                    break;
                case 'fear':
                    textColorClass = 'fear-color';
                    bgColorClass = 'fear-bg';
                    description = 'Fear, good Entry.';
                    break;
                case 'neutral':
                    textColorClass = 'neutral-color';
                    bgColorClass = 'neutral-bg';
                    description = 'Neutral, buy and HODL.';
                    break;
                case 'greed':
                    textColorClass = 'greed-color';
                    bgColorClass = 'greed-bg';
                    description = 'Greed, HODL!';
                    break;
                case 'extreme greed':
                    textColorClass = 'extreme-greed-color';
                    bgColorClass = 'extreme-greed-bg';
                    description = 'Extreme Greed, HODL or Sell.';
                    break;
                default:
                    textColorClass = 'neutral-color';
                    bgColorClass = 'neutral-bg';
                    description = 'fetching data...';
            }
            
            elements.fearGreedScore.className = `fear-greed-score ${textColorClass}`;
            elements.fearGreedText.className = `fear-greed-text ${textColorClass}`;
            
            elements.fearGreedDescription.textContent = description;
            
            const updateDate = new Date(timestamp);
            const timeString = updateDate.toLocaleTimeString('de-DE', {
                hour: '2-digit',
                minute: '2-digit'
            });
            const dateString = updateDate.toLocaleDateString('de-DE', {
                day: '2-digit',
                month: '2-digit'
            });
            elements.fearGreedUpdateTime.textContent = `${dateString} ${timeString}`;
            
            if (state.fearGreedIndex !== null) {
                const previousScore = state.fearGreedIndex;
                if (score > previousScore) {
                    elements.fearGreedScore.classList.add('price-up-animation');
                } else if (score < previousScore) {
                    elements.fearGreedScore.classList.add('price-down-animation');
                }
                
                setTimeout(() => {
                    elements.fearGreedScore.classList.remove('price-up-animation', 'price-down-animation');
                }, 300);
            }
        }
        
        // Bitcoin Fees abrufen
        async function fetchBitcoinFees() {
            try {
                const response = await fetch('https://mempool.space/api/v1/fees/precise');
                const data = await response.json();
                
                if (data) {
                    updateBitcoinFeesDisplay(data);
                    state.bitcoinFees = data;
                    state.feesLastUpdate = new Date();
                    return data;
                } else {
                    throw new Error('Ungültiges Datenformat');
                }
            } catch (error) {
                console.error('Bitcoin Fees Fehler:', error);
                
                // Fallback: Simulierte Daten
                const simulatedFees = {
                    fastestFee: Math.floor(Math.random() * 50) + 10,
                    halfHourFee: Math.floor(Math.random() * 40) + 5,
                    hourFee: Math.floor(Math.random() * 30) + 2,
                    economyFee: Math.floor(Math.random() * 20) + 1,
                    minimumFee: 1
                };
                
                updateBitcoinFeesDisplay(simulatedFees);
                state.bitcoinFees = simulatedFees;
                state.feesLastUpdate = new Date();
                return simulatedFees;
            }
        }
        
        // Bitcoin Fees Anzeige aktualisieren
        function updateBitcoinFeesDisplay(fees) {
            // Satoshi pro vByte anzeigen
            elements.feeEconomy.textContent = fees.economyFee || '--';
            elements.feeFastest.textContent = fees.fastestFee || '--';
            elements.feeHour.textContent = fees.hourFee || '--';
            elements.feeHalfHour.textContent = fees.halfHourFee || '--';
            elements.feeMinimum.textContent = fees.minimumFee || '1';
            elements.feePriority.textContent = fees.fastestFee || '--';
            
            // Update-Zeit anzeigen
            const now = new Date();
            const timeString = now.toLocaleTimeString('de-DE', {
                hour: '2-digit',
                minute: '2-digit'
            });
            elements.feesUpdateTime.textContent = timeString;
        }
        
        // Hauptfunktion zum Abrufen aller Preise
        async function fetchAllPrices() {
            try {
                elements.refreshBtn.classList.add('pulse');
                updateStatus('warning', 'Aktualisiere Preise...');
                
                const [btcData, xmrData, pepeData] = await Promise.allSettled([
                    fetchBTCPrice(),
                    fetchXMRPrice(),
                    fetchPEPEPrice()
                ]);
                
                updateStatus('success', 'Alle Systeme aktiv');
                state.lastUpdateTime = new Date();
                updateLastUpdatedTime();
                
            } catch (error) {
                console.error('Fehler beim Abrufen aller Preise:', error);
                updateStatus('error', 'Teilweise Verbindungsprobleme');
            } finally {
                setTimeout(() => {
                    elements.refreshBtn.classList.remove('pulse');
                }, 500);
            }
        }
        
// Bitcoin-Preis abrufen (mit korrekter 24h-Änderung)
async function fetchBTCPrice() {
    try {
        const response = await fetch('https://api.kraken.com/0/public/Ticker?pair=XBTUSD,XBTEUR');
        const data = await response.json();
        
        if (data.error.length > 0) {
            throw new Error(data.error.join(', '));
        }
        
        const btcUsdPrice = parseFloat(data.result.XXBTZUSD?.c?.[0]);
        const btcEurPrice = parseFloat(data.result.XXBTZEUR?.c?.[0]);
        const btcUsdTicker = data.result.XXBTZUSD;
        
        if (!btcUsdPrice || !btcEurPrice) {
            throw new Error('Fehlende BTC-Preisdaten');
        }
        
        // KORREKTE 24h Änderung berechnen
        let btcChangePercent24h = "0.00";
        
        // Kraken API: p[0] = heute's opening price (24h opening price)
        // p[1] = 24h price difference (absolut)
        if (btcUsdTicker?.p?.[0] && btcUsdPrice) {
            const openingPriceUSD = parseFloat(btcUsdTicker.p[0]); // Eröffnungspreis vor 24h
            if (openingPriceUSD !== 0) {
                btcChangePercent24h = ((btcUsdPrice - openingPriceUSD) / openingPriceUSD * 100).toFixed(2);
            }
        }
        
        // 24h-Änderung in Header anzeigen
        const changeValue = parseFloat(btcChangePercent24h);
        elements.btcOverallChange.innerHTML = `<i class="fas ${changeValue >= 0 ? 'fa-arrow-up' : 'fa-arrow-down'} change-icon"></i><span>${changeValue >= 0 ? '+' : ''}${btcChangePercent24h}% (24h)</span>`;
        elements.btcOverallChange.style.color = changeValue >= 0 ? 'var(--up)' : 'var(--down)';
        
        // USD- und EUR-Preise aktualisieren
        updatePriceDisplay('btc', 'usd', btcUsdPrice, elements.btcUsdPrice, '$', elements.btcUsdChange);
        updatePriceDisplay('btc', 'eur', btcEurPrice, elements.btcEurPrice, '€', elements.btcEurChange);
        
        // EUR-Preis auch über Wechselkurs berechnen (als Backup)
        if (state.usdToEurRate && (!btcEurPrice || isNaN(btcEurPrice))) {
            const eurPrice = btcUsdPrice * state.usdToEurRate;
            updatePriceDisplay('btc', 'eur', eurPrice, elements.btcEurPrice, '€', elements.btcEurChange);
        }
        
        return { usd: btcUsdPrice, eur: btcEurPrice };
        
    } catch (error) {
        console.error('BTC Preis-Fehler:', error);
        elements.btcUsdPrice.textContent = '$--.--';
        elements.btcEurPrice.textContent = '€--.--';
        throw error;
    }
}

// Monero-Preis abrufen
async function fetchXMRPrice() {
    try {
        const response = await fetch('https://api.kraken.com/0/public/Ticker?pair=XMRUSD,XMREUR');
        const data = await response.json();
        
        if (data.error.length > 0) {
            throw new Error(data.error.join(', '));
        }
        
        let xmrUsdPrice, xmrEurPrice, xmrUsdTicker;
        
        // Versuche verschiedene Ticker-Namen
        if (data.result.XXMRZUSD?.c?.[0]) {
            xmrUsdPrice = parseFloat(data.result.XXMRZUSD.c[0]);
            xmrUsdTicker = data.result.XXMRZUSD;
        } else if (data.result.XMRUSD?.c?.[0]) {
            xmrUsdPrice = parseFloat(data.result.XMRUSD.c[0]);
            xmrUsdTicker = data.result.XMRUSD;
        }
        
        if (data.result.XXMRZEUR?.c?.[0]) {
            xmrEurPrice = parseFloat(data.result.XXMRZEUR.c[0]);
        } else if (data.result.XMREUR?.c?.[0]) {
            xmrEurPrice = parseFloat(data.result.XMREUR.c[0]);
        }
        
        // Falls EUR-Preis nicht verfügbar, aus USD umrechnen
        if ((!xmrEurPrice || isNaN(xmrEurPrice)) && xmrUsdPrice && state.usdToEurRate) {
            xmrEurPrice = xmrUsdPrice * state.usdToEurRate;
        }
        
        if (!xmrUsdPrice || isNaN(xmrUsdPrice)) {
            throw new Error('Fehlende XMR-Preisdaten');
        }
        
        // KORREKTE 24h Änderung berechnen
        let xmrChangePercent24h = "0.00";
        
        if (xmrUsdTicker?.p?.[0] && xmrUsdPrice) {
            const openingPriceUSD = parseFloat(xmrUsdTicker.p[0]); // Eröffnungspreis vor 24h
            if (openingPriceUSD !== 0) {
                xmrChangePercent24h = ((xmrUsdPrice - openingPriceUSD) / openingPriceUSD * 100).toFixed(2);
            }
        }
        
        // 24h-Änderung in Header anzeigen
        const changeValue = parseFloat(xmrChangePercent24h);
        elements.xmrOverallChange.innerHTML = `<i class="fas ${changeValue >= 0 ? 'fa-arrow-up' : 'fa-arrow-down'} change-icon"></i><span>${changeValue >= 0 ? '+' : ''}${xmrChangePercent24h}% (24h)</span>`;
        elements.xmrOverallChange.style.color = changeValue >= 0 ? 'var(--up)' : 'var(--down)';
        
        // USD- und EUR-Preise aktualisieren
        updatePriceDisplay('xmr', 'usd', xmrUsdPrice, elements.xmrUsdPrice, '$', elements.xmrUsdChange);
        updatePriceDisplay('xmr', 'eur', xmrEurPrice, elements.xmrEurPrice, '€', elements.xmrEurChange);
        
        return { usd: xmrUsdPrice, eur: xmrEurPrice };
        
    } catch (error) {
        console.error('XMR Preis-Fehler:', error);
        
        try {
            const fallbackResponse = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=monero&vs_currencies=usd,eur&include_24hr_change=true');
            const fallbackData = await fallbackResponse.json();
            
            if (fallbackData.monero) {
                const xmrUsdPrice = fallbackData.monero.usd;
                const xmrEurPrice = fallbackData.monero.eur || xmrUsdPrice * state.usdToEurRate;
                const xmrChangePercent24h = fallbackData.monero.usd_24h_change || 0;
                
                // 24h-Änderung in Header anzeigen
                elements.xmrOverallChange.innerHTML = `<i class="fas ${xmrChangePercent24h >= 0 ? 'fa-arrow-up' : 'fa-arrow-down'} change-icon"></i><span>${xmrChangePercent24h >= 0 ? '+' : ''}${xmrChangePercent24h.toFixed(2)}% (24h)</span>`;
                elements.xmrOverallChange.style.color = xmrChangePercent24h >= 0 ? 'var(--up)' : 'var(--down)';
                
                updatePriceDisplay('xmr', 'usd', xmrUsdPrice, elements.xmrUsdPrice, '$', elements.xmrUsdChange);
                updatePriceDisplay('xmr', 'eur', xmrEurPrice, elements.xmrEurPrice, '€', elements.xmrEurChange);
                
                return { usd: xmrUsdPrice, eur: xmrEurPrice };
            }
        } catch (fallbackError) {
            console.error('XMR Fallback-Fehler:', fallbackError);
        }
        
        elements.xmrUsdPrice.textContent = '$--.--';
        elements.xmrEurPrice.textContent = '€--.--';
        throw error;
    }
}

// Pepe-Preis abrufen (24h Prozente WEGLASSEN wie gewünscht)
async function fetchPEPEPrice() {
    try {
        // Direkter Aufruf der von dir bereitgestellten API
        const response = await fetch('https://pepeblocks.com/ext/getcurrentprice');
        
        if (!response.ok) {
            throw new Error(`API-Fehler: ${response.status}`);
        }
        
        const priceText = await response.text();
        const pepePriceUSD = parseFloat(priceText.trim());
        
        if (isNaN(pepePriceUSD)) {
            throw new Error('Ungültiges Preisformat von API');
        }
        
        // PEPE 24h Änderung WEGLASSEN - nur 0.00% anzeigen
        const pepeChangePercent24h = 0;
        
        // EUR-Preis berechnen
        const pepePriceEUR = pepePriceUSD * state.usdToEurRate;
        
        // 24h-Änderung in Header anzeigen (immer 0.00%)
        elements.pepeOverallChange.innerHTML = `<i class="fas fa-minus change-icon"></i><span>0.00% (24h)</span>`;
        elements.pepeOverallChange.style.color = 'var(--neutral)';
        
        // USD- und EUR-Preise aktualisieren (als kleine Preise markieren)
        updatePriceDisplay('pepe', 'usd', pepePriceUSD, elements.pepeUsdPrice, '$', elements.pepeUsdChange, true);
        updatePriceDisplay('pepe', 'eur', pepePriceEUR, elements.pepeEurPrice, '€', elements.pepeEurChange, true);
        
        return { usd: pepePriceUSD, eur: pepePriceEUR };
        
    } catch (error) {
        console.error('PEPE Preis-Fehler:', error);
        
        try {
            const fallbackResponse = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=pepe&vs_currencies=usd,eur');
            const fallbackData = await fallbackResponse.json();
            
            if (fallbackData.pepe) {
                const pepePriceUSD = fallbackData.pepe.usd;
                const pepePriceEUR = fallbackData.pepe.eur || pepePriceUSD * state.usdToEurRate;
                
                // 24h-Änderung in Header anzeigen (immer 0.00%)
                elements.pepeOverallChange.innerHTML = `<i class="fas fa-minus change-icon"></i><span>0.00% (24h)</span>`;
                elements.pepeOverallChange.style.color = 'var(--neutral)';
                
                updatePriceDisplay('pepe', 'usd', pepePriceUSD, elements.pepeUsdPrice, '$', elements.pepeUsdChange, true);
                updatePriceDisplay('pepe', 'eur', pepePriceEUR, elements.pepeEurPrice, '€', elements.pepeEurChange, true);
                
                return { usd: pepePriceUSD, eur: pepePriceEUR };
            }
        } catch (fallbackError) {
            console.error('PEPE Fallback-Fehler:', fallbackError);
        }
        
        elements.pepeUsdPrice.textContent = '$--.--';
        elements.pepeEurPrice.textContent = '€--.--';
        throw error;
    }
}
        
        // Preis-Anzeige aktualisieren
        function updatePriceDisplay(coin, currency, currentPrice, element, symbol, changeContainer, isSmall = false) {
            const previousPrice = state.previousPrices[coin] ? state.previousPrices[coin][currency] : null;
            
            element.textContent = formatPrice(currentPrice, symbol, isSmall);
            
            if (isSmall) {
                element.classList.add('micro-price');
            } else {
                element.classList.remove('micro-price');
            }
            
            if (previousPrice !== null && previousPrice !== 0) {
                const change = currentPrice - previousPrice;
                const changePercent = ((change / previousPrice) * 100).toFixed(2);
                
                if (currentPrice > previousPrice) {
                    element.classList.remove('down', 'neutral');
                    element.classList.add('up');
                    element.classList.add('price-up-animation');
                    
                    changeContainer.innerHTML = `<i class="fas fa-arrow-up change-icon"></i><span>${changePercent >= 0 ? '+' : ''}${changePercent}%</span>`;
                    changeContainer.style.color = 'var(--up)';
                    
                    state.lastDirection[coin][currency] = 'up';
                } else if (currentPrice < previousPrice) {
                    element.classList.remove('up', 'neutral');
                    element.classList.add('down');
                    element.classList.add('price-down-animation');
                    
                    changeContainer.innerHTML = `<i class="fas fa-arrow-down change-icon"></i><span>${changePercent >= 0 ? '+' : ''}${changePercent}%</span>`;
                    changeContainer.style.color = 'var(--down)';
                    
                    state.lastDirection[coin][currency] = 'down';
                } else {
                    const direction = state.lastDirection[coin] ? state.lastDirection[coin][currency] : null;
                    if (direction) {
                        element.classList.remove('up', 'down', 'neutral');
                        element.classList.add(direction);
                    }
                    
                    changeContainer.innerHTML = `<i class="fas fa-minus change-icon"></i><span>0.00%</span>`;
                    changeContainer.style.color = 'var(--neutral)';
                }
                
                setTimeout(() => {
                    element.classList.remove('price-up-animation', 'price-down-animation');
                }, 300);
            } else {
                element.classList.remove('up', 'down');
                element.classList.add('neutral');
                
                changeContainer.innerHTML = `<i class="fas fa-minus change-icon"></i><span>0.00%</span>`;
                changeContainer.style.color = 'var(--neutral)';
            }
            
            if (!state.previousPrices[coin]) {
                state.previousPrices[coin] = {};
            }
            state.previousPrices[coin][currency] = currentPrice;
        }
        
        // USDC/EUR Wechselkurs abrufen
        async function fetchUSDCtoEUR() {
            try {
                const response = await fetch('https://api.kraken.com/0/public/Ticker?pair=USDCEUR');
                const data = await response.json();
                
                if (data.error.length === 0 && data.result?.USDCEUR?.c?.[0]) {
                    const rate = parseFloat(data.result.USDCEUR.c[0]);
                    elements.usdcEurRate.textContent = rate.toLocaleString('de-DE', { 
                        minimumFractionDigits: 4, 
                        maximumFractionDigits: 4 
                    });
                    state.usdToEurRate = rate;
                    return rate;
                } else {
                    throw new Error('Ungültiges Datenformat');
                }
            } catch (error) {
                console.error('USDC/EUR Fehler:', error);
                
                state.usdToEurRate = 0.92;
                elements.usdcEurRate.textContent = '0.9200';
                return 0.92;
            }
        }
        
        // Marktdaten aktualisieren
        async function updateMarketData() {
            try {
                const supply = await fetchCirculatingSupply();
                state.btcMarketCap = supply;
            } catch (error) {
                console.error('Market Data Fehler:', error);
            }
        }
        
        // BTC Umlaufversorgung abrufen
        async function fetchCirculatingSupply() {
            try {
                const response = await fetch('https://api.coingecko.com/api/v3/coins/bitcoin?localization=false&tickers=false');
                const data = await response.json();
                
                if (data?.market_data?.circulating_supply) {
                    const supply = data.market_data.circulating_supply;
                    elements.circulatingSupply.textContent = formatNumber(supply);
                    return supply;
                } else {
                    throw new Error('Ungültiges Datenformat');
                }
            } catch (error) {
                console.error('Supply Fehler:', error);
                elements.circulatingSupply.textContent = '19.5 Mio';
                return 19500000;
            }
        }
        
        // Manuelles Aktualisieren
        function manualRefresh() {
            fetchAllPrices();
            fetchUSDCtoEUR();
            updateMarketData();
            fetchFearAndGreedIndex();
            fetchBitcoinFees();
            
            startCountdown();
            startDataUpdateCountdown();
            startFeesCountdown();
            
            elements.refreshBtn.innerHTML = '<i class="fas fa-check"></i>';
            setTimeout(() => {
                elements.refreshBtn.innerHTML = '<i class="fas fa-redo"></i>';
            }, 1000);
        }
    </script>
</body>
</html>